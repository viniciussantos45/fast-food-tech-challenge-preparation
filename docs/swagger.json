{"openapi":"3.0.3","info":{"title":"Fast food API Documentation","description":"API documentation for the fast food application","version":"0.1.0"},"components":{"securitySchemes":{"apiKey":{"type":"apiKey","name":"apiKey","in":"header"}},"schemas":{}},"paths":{"/customer":{"post":{"tags":["cliente"],"description":"Cria um novo cliente","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["cpf","name","email"],"properties":{"cpf":{"type":"string","format":"regex","pattern":"^(?:\\d{11})$","errorMessage":{"pattern":"Formato de CPF inválido. O formato esperado é XXX.XXX.XXX-XX."},"example":"06045337050"},"email":{"type":"string","format":"email","errorMessage":{"format":"Formato de e-mail inválido"}},"name":{"type":"string","minLength":2,"errorMessage":{"minLength":"O nome deve ter pelo menos 2 caracteres"},"example":"João da Silva"}}}}},"required":true},"responses":{"201":{"description":"Cliente criado com sucesso","content":{"application/json":{"schema":{"description":"Cliente criado com sucesso","type":"object","properties":{"message":{"type":"string","default":"Cliente criado com sucesso!"}}}}}},"400":{"description":"Dados inválidos fornecidos","content":{"application/json":{"schema":{"description":"Dados inválidos fornecidos","type":"object","properties":{"error":{"type":"string","description":"Descrição do erro"}}}}}}}}},"/customer/{cpf}":{"get":{"tags":["cliente"],"description":"Identificar um cliente pelo CPF","parameters":[{"schema":{"type":"string"},"example":"06045337050","in":"path","name":"cpf","required":true,"description":"CPF do cliente"}],"responses":{"200":{"description":"Cliente encontrado","content":{"application/json":{"schema":{"description":"Cliente encontrado","type":"object","properties":{"cpf":{"type":"string","description":"CPF do cliente"},"name":{"type":"string","description":"Nome do cliente"},"email":{"type":"string","description":"E-mail do cliente"}}}}}},"404":{"description":"Cliente não encontrado","content":{"application/json":{"schema":{"description":"Cliente não encontrado","type":"object","properties":{"message":{"type":"string","description":"Mensagem de erro"}}}}}}}}},"/product":{"post":{"tags":["produtos"],"description":"Cria um novo produto","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["name","category","price","description","images"],"properties":{"name":{"type":"string","minLength":2,"errorMessage":{"minLength":"O nome do produto deve ter pelo menos 2 caracteres."},"example":"Produto 1"},"category":{"type":"string","enum":["sandwich","drink","accompaniment","dessert"],"errorMessage":{"type":"O campo categoria deve ser uma string."}},"price":{"type":"number","minimum":0.01,"errorMessage":{"minimum":"O preço do produto deve ser maior que zero."},"example":10.5},"description":{"type":"string","minLength":10,"errorMessage":{"minLength":"A descrição deve ter pelo menos 10 caracteres."},"example":"Descrição do produto"},"images":{"type":"array","minItems":1,"items":{"type":"string","format":"uri","errorMessage":{"format":"Cada imagem deve ser uma URL válida."}},"errorMessage":{"minItems":"Deve haver pelo menos uma imagem do produto."},"example":["https://example.com/image.jpg"]}}}}},"required":true},"responses":{"201":{"description":"Produto criado com sucesso","content":{"application/json":{"schema":{"description":"Produto criado com sucesso","type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"category":{"type":"string"},"price":{"type":"number"},"description":{"type":"string"},"images":{"type":"array","items":{"type":"string"}}}}}}},"400":{"description":"Dados inválidos fornecidos","content":{"application/json":{"schema":{"description":"Dados inválidos fornecidos","type":"object","properties":{"error":{"type":"string","description":"Descrição do erro"}}}}}}}}},"/product/{id}":{"put":{"tags":["produtos"],"description":"Editar um produto pelo id","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":2,"errorMessage":{"minLength":"O nome do produto deve ter pelo menos 2 caracteres."},"example":"Produto 1 - editado"},"category":{"type":"string","enum":["sandwich","drink","accompaniment","dessert"],"errorMessage":{"type":"O campo categoria deve ser uma string."}},"price":{"type":"number","minimum":0.01,"errorMessage":{"minimum":"O preço do produto deve ser maior que zero."},"example":10.5},"description":{"type":"string","minLength":10,"errorMessage":{"minLength":"A descrição deve ter pelo menos 10 caracteres."},"example":"Descrição do produto - editado"},"imagesUrl":{"type":"array","minItems":1,"items":{"type":"string","format":"uri","errorMessage":{"format":"Cada imagem deve ser uma URL válida."},"example":"https://example.com/image-editada.jpg"},"errorMessage":{"minItems":"Deve haver pelo menos uma imagem do produto."}}}}}}},"parameters":[{"schema":{"type":"number","errorMessage":{"type":"O id do produto deve ser um número."}},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"tags":["produtos"],"description":"Deleta um produto pelo id","parameters":[{"schema":{"type":"number","errorMessage":{"type":"O id do produto deve ser um número."}},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Produto deletado com sucesso","content":{"application/json":{"schema":{"description":"Produto deletado com sucesso","type":"object","properties":{"message":{"type":"string","default":"Produto deletado com sucesso!"}}}}}},"404":{"description":"Produto não encontrado","content":{"application/json":{"schema":{"description":"Produto não encontrado","type":"object","properties":{"message":{"type":"string","default":"Produto não encontrado"}}}}}}}}},"/product/{category}":{"get":{"tags":["produtos"],"description":"Lista todos os produtos de uma categoria","parameters":[{"schema":{"type":"string","enum":["sandwich","drink","accompaniment","dessert"]},"in":"path","name":"category","required":true,"description":"Nome da categoria"}],"responses":{"200":{"description":"Default Response"}}}},"/order":{"post":{"tags":["pedido"],"description":"Cria uma nova ordem - Realiza CHECKOUT de um pedido","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["customerId","combos"],"properties":{"customerId":{"type":"string","description":"Identificador único do cliente","example":"06045337050"},"combos":{"type":"array","description":"Lista de combos que o cliente está comprando","items":{"type":"object","required":["productsIds"],"properties":{"productsIds":{"type":"array","items":{"type":"number"},"description":"IDs dos produtos inclusos no combo"}}}}}}}},"required":true},"responses":{"201":{"description":"Pedido cadastrado com sucesso","content":{"application/json":{"schema":{"description":"Pedido cadastrado com sucesso","type":"object","properties":{"id":{"type":"number"},"customer":{"type":"object","properties":{"cpf":{"type":"string"},"name":{"type":"string"}}},"combos":{"type":"array","items":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"price":{"type":"number"}}}}}}},"status":{"type":"string"},"statusPayment":{"type":"string"},"createdAt":{"type":"string"}}}}}},"400":{"description":"Dados inválidos fornecidos","content":{"application/json":{"schema":{"description":"Dados inválidos fornecidos","type":"object","properties":{"error":{"type":"string","description":"Descrição do erro"}}}}}}}}},"/orders":{"get":{"tags":["pedido"],"description":"Lista todos os pedidos","responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"received":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"object","properties":{"cpf":{"type":"object","properties":{"value":{"type":"string"}}},"name":{"type":"string"},"email":{"type":"string"}}},"combos":{"type":"array","items":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"category":{"type":"object","properties":{"value":{"type":"string"}}},"price":{"type":"number"},"description":{"type":"string"},"images":{"type":"array","items":{"type":"object","properties":{"value":{"type":"string"}}}}}}}}}},"status":{"type":"string"},"statusPayment":{"type":"string"},"createdAt":{"type":"string"}}}},"in_progress":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"object","properties":{"cpf":{"type":"object","properties":{"value":{"type":"string"}}},"name":{"type":"string"},"email":{"type":"string"}}},"combos":{"type":"array","items":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"category":{"type":"object","properties":{"value":{"type":"string"}}},"price":{"type":"number"},"description":{"type":"string"},"images":{"type":"array","items":{"type":"object","properties":{"value":{"type":"string"}}}}}}}}}},"status":{"type":"string"},"statusPayment":{"type":"string"},"createdAt":{"type":"string"}}}},"ready":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"object","properties":{"cpf":{"type":"object","properties":{"value":{"type":"string"}}},"name":{"type":"string"},"email":{"type":"string"}}},"combos":{"type":"array","items":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"category":{"type":"object","properties":{"value":{"type":"string"}}},"price":{"type":"number"},"description":{"type":"string"},"images":{"type":"array","items":{"type":"object","properties":{"value":{"type":"string"}}}}}}}}}},"status":{"type":"string"},"statusPayment":{"type":"string"},"createdAt":{"type":"string"}}}},"finished":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"customer":{"type":"object","properties":{"cpf":{"type":"object","properties":{"value":{"type":"string"}}},"name":{"type":"string"},"email":{"type":"string"}}},"combos":{"type":"array","items":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"category":{"type":"object","properties":{"value":{"type":"string"}}},"price":{"type":"number"},"description":{"type":"string"},"images":{"type":"array","items":{"type":"object","properties":{"value":{"type":"string"}}}}}}}}}},"status":{"type":"string"},"statusPayment":{"type":"string"},"createdAt":{"type":"string"}}}}}}}}}}}},"/order/{orderId}/status/payment":{"get":{"tags":["pedido"],"description":"Retorna o status do pagamento de um pedido","parameters":[{"schema":{"type":"string"},"in":"path","name":"orderId","required":true,"description":"ID do pedido"}],"responses":{"200":{"description":"Default Response"}}}},"/order/{orderId}/status":{"post":{"tags":["pedido"],"description":"Atualiza o status de um pedido","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"Status do pedido","enum":["received","in_progress","ready","finished"]}}}}}},"parameters":[{"schema":{"type":"string"},"in":"path","name":"orderId","required":true,"description":"ID do pedido"}],"responses":{"200":{"description":"Default Response"}}}},"/webhook/order/payment/status":{"post":{"tags":["pedido"],"description":"Webhook para atualizar o status do pagamento de um pedido","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"string","description":"ID do pedido"},"status":{"type":"string","description":"Status do pagamento","enum":["APPROVED","REJECTED"]}}}}}},"responses":{"200":{"description":"Default Response"}}}}},"servers":[{"url":"http://localhost:3000","description":"Development server"}],"tags":[{"name":"cliente","description":"Endpoints que lidam com informações cliente"},{"name":"produtos","description":"Endpoints que lidam com informações de produtos"},{"name":"pedido","description":"Endpoints que lidam com informações de pedidos"}],"externalDocs":{"url":"https://swagger.io","description":"Find more info here"}}